# Client-API для парсера авто с сайта av.by


<img align="center" max-width="800px" src="https://github.com/din366/images/blob/main/readme%20images/commercial-projects/avby-checker/front-main-1.gif?raw=true" alt="open gif">

<p>:warning: Данный клиент работает в паре с серверным API:</p> 
:arrow_right: <a href="https://github.com/din366/avby-car-checker-api">[github проект серверного API]</a>

## Какие проблемы решает данное API:
- Личный кабинет пользователя, в котором собраны все интересующие категории;
- Удобное отслеживание интересующих авто, возможность добавлять в избранное - больше не требуется держать открытые вкладки в браузере;
- Отслеживание текущих ценовых изменений в объявлениях как единичного авто, так и всей категории;
- История ценовых изменений по каждому авто и категории - позволяет видеть изменение цен в динамике по текущим объявлениям (а не по закрытым, как в статистике avby);
- Если для авто появилось новое объявление, приложение покажет ссылку на старое, закрытое объявление - часто продавцы вместо обновления цены в текущем объявлении удаляют старое и создают новое, тем самым затирая длительность продажи авто и динамику цен в объявлении, теперь это легко отследить;
- Можно просмотреть все закрытые объявления со ссылками на оригинальные страницы - приложение сохраняет ссылки на уже закрытые объявления, тем самым в любой момент можно зайти на них;
- Как ручное, так и автоматическое обновление категорий авто - обновление данных можно производить в любое время, как единичной категории, так и по всему аккаунту;

## Как работает API:
Api работает по принципу парсера через приложение для тестирования Playwright - при обновлении серверным api собираются данные 
из указанных категорий и предоставляются в виде удобной статистики. 
Собранные данные сравниваются с локальными данными для предоставления изменений по активными объявлениям, закрытым объявлениям, а также ценам в динамике.

## Стек:
- Vite
- React/Redux/Thunk
- Socket.io
- Axios
- Formik
- Sass

## Подробнее про работу приложения:

1. При первом открытии нас встречает окно авторизации. Данные авторизации сравниваются с серверным api. 
При успешной авторизации выдается токен для последующего захода в api без необходимости авторизации. В случае наличия ошибок форма подскажет где они были допущены.

<img align="center" max-width="800px" src="https://github.com/din366/images/blob/main/readme%20images/avby-checker/work-1.png">

2. В приложении есть возможность выбора темы светлая/темная. Все элементы адаптированы под цветовую схему.

<img align="center" max-width="800px" src="https://github.com/din366/images/blob/main/readme%20images/avby-checker/work-2.png">

3. Авторизованный пользователь автоматически попадает в список добавленных категорий. 
Если в категории нет добавленных авто - требуется добавить авто в соответствующем окне. 
После нажатия кнопки "Добавить автомобиль" сразу начнется первоначальный парсинг данных.

<img align="center" max-width="800px" src="https://github.com/din366/images/blob/main/readme%20images/avby-checker/work-3.png">

4. Парсинг авто сопровождается лоадерами и проходит в два этапа: сначала собираются данные по категории и количеству авто, после данные по каждому авто (что будет видно на прогресс баре).

<img align="center" max-width="800px" src="https://github.com/din366/images/blob/main/readme%20images/avby-checker/work-4.png">

5. Все действия с обновлениями сопровождаются всплывающими сообщениями (успешно или ошибка).

<img align="center" max-width="800px" src="https://github.com/din366/images/blob/main/readme%20images/avby-checker/work-5.png">

5. Так как информация про парсинг между клиентом и сервером синхронизируется через вебсокеты, то обновление страницы не приведет к потере информации про текущее обновление, пользователь всей равно будет видеть текущий процесс обновления данных.

<img align="center" max-width="800px" src="https://github.com/din366/images/blob/main/readme%20images/avby-checker/work-6.gif">

6. На карточке товара можно отследить как изменение в количестве объявлений, так и динамику цен по всем объявлениям категории. В случае неактуальности категории ее можно удалить (данные на сервере не удаляются, а перемещаются в архивную папку).

<img align="center" max-width="800px" src="https://github.com/din366/images/blob/main/readme%20images/avby-checker/work-7.png">

7. При входе в карточку категории мы увидим более подробные данные про динамику изменения цен - графики по последним 15 парсингам.

<img align="center" max-width="800px" src="https://github.com/din366/images/blob/main/readme%20images/avby-checker/work-8.png">

8. На странице категории из общего списка авто можно добавить в избранное, скрыть из списка, тем самым добавив в категорию скрытых. Новые авто (если между парсингами появились новые объявления) будут добавляться во вкладку "Новые авто". Если объявление было закрыто - оно попадет во вкладку "Закрытые объявления" и пропадет из вкладок "Сейчас в продаже", "Избранные в продаже", "Скрытые в продаже".

<img align="center" max-width="800px" src="https://github.com/din366/images/blob/main/readme%20images/avby-checker/work-9.png">

9. В закрытых объявлениях все также можно будет видеть было ли авто в избранных или скрытых, а также дату закрытия объявления.

<img align="center" max-width="800px" src="https://github.com/din366/images/blob/main/readme%20images/avby-checker/work-10.png">

## Запуск приложения:

### `npm run dev`

- запуск осуществляется по адресу [http://localhost:5174/](http://localhost:5174/)

### Для использования приложения также необходимо локально запустить backend-api (файлы api - https://github.com/din366/avby-car-checker-api).